{% extends "feature.html" %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block headtitle %}{% trans "File Access" %}{% endblock %}
{% block h2title   %}{% trans "File Access" %}{% endblock %}
{% block tuttags   %}file,dnd,filereader,filewriter,blob,xhr{% endblock %}
{% block caniuse   %}bloburls,blobbuilder,filesystem,filereader,fileapi{% endblock %}
{% block updatesblockstyle %}two_columns{% endblock %}
{% block supportblockstyle %}multiple{% endblock %}

{% block header %}
  <section id="intro">
    <p class="intro">
      {% blocktrans %}
        HTML5 provides very powerful APIs to interact with binary data and a user's local file system. The File APIs give web applications the ability to do things like read files [a]synchronously, create arbitrary Blobs, write files to a temporary location, recursively read a file directory, perform file drag and drop from the desktop to the browser, and upload binary data using <code>XMLHttpRequest2</code>.
      {% endblocktrans %}
    </p>
    <p>
      {% blocktrans %}
        As examples, the File APIs can be used to create a thumbnail preview of images as they're being sent to the server, or allow an app to save a file reference while the user is offline. Using the <a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html">Web Audio API</a>, your app could read an .mp3 file and display a visualization of the song as it plays. Additionally, you could use client-side logic to verify an upload's mimetype matches its file extension or restrict the size of an upload.
      {% endblocktrans %}
    </p>
  </section>
{% endblock %}


{% block tutorials %}
  <li><a href="http://www.thecssninja.com/javascript/filesystem">CSS Ninja: "I'll have the DOMFileSystem with a side of read/write access please..."</a></li>
  <li><a href="http://hacks.mozilla.org/2009/12/w3c-fileapi-in-firefox-3-6/">Mozilla Hacks: article on using the File API</a></li>
  <li><a href="https://developer.mozilla.org/en/Using_files_from_web_applications">MDC: Using files from web applications</a></li>
  <li><a href="http://www.thecssninja.com/javascript/gmail-dragout">Drag out files like Gmail</a></li>
{% endblock %}


{% block content %}
  <section id="demos">
    <h3>{% trans "Demos" %}</h3>
    <figure>
      <a href="http://html5demos.com/file-api">
        <img src="/static/images/features/html5doctor-file.png">
        <figcaption>HTML5 Demos: Drag files from the desktop to the browser</figcaption>
      </a>
    </figure>
  </section>

  <section id="in_the_wild">
    <h3>{% trans "In the Wild" %}</h3>
    <figure>
      <a href="http://gmailblog.blogspot.com/2010/04/drag-and-drop-attachments-onto-messages.html">
        <img src="/static/images/features/gmail-dnd.png">
        <figcaption>GMail</figcaption>
      </a>
    </figure>
    <figure>
      <a href="http://mugtug.com/darkroom/">
        <img src="/static/images/features/mugtug.png">
        <figcaption>MugTug Darkroom</figcaption>
      </a>
    </figure>
  </section>

  <section id="resources">
    <h3>{% trans "Resources" %}</h3>
    <ul class="definitions">
      <li>
        <a href="http://www.w3.org/TR/file-upload/">W3C Spec: File</a>
        <span>{% trans "This W3C specification defines the File APIs: <code>File</code>, <code>FileList</code>, <code>FileReader</code>, <code>Blob</code>." %}</span>
      </li>
      <li>
        <a href="http://www.w3.org/TR/file-system-api/">W3C Spec: FileSystem APIs</a>
        <span>{% trans "This W3C specification defines the FileSystem APIs; which provide an interface for reading and writing files and directories in a sandboxed file system." %}</span>
      </li>
      <li>
        <a href="http://www.w3.org/TR/file-writer-api/">W3C Spec: FileWriter</a>
        <span>{% trans "This W3C specification defines the FileWriter API; which provides an interface for writing to files from web applications." %}</span>
      </li>
      <li>
        <a href="http://www.w3.org/TR/progress-events/#Progress">W3C Spec: ProgressEvents</a>
        <span>{% trans "This W3C specification defines the ProgressEvent; which gives asynchronous updates on the progress of a File read." %}</span>
      </li>
      <li>
        <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#the-dragevent-and-datatransfer-interfaces">WHATWG Spec: Drag and Drop</a>
        <span>{% trans "This whatwg specification defines the native HTML5 drag and drop APIs" %}</span>
      </li>
      <li>
        <a href="http://hacks.mozilla.org/2009/12/uploading-files-with-xmlhttprequest/">Mozilla Hacks: Interactive file uploads</a>
        <span>{% trans "Tutorial on using Drag and Drop, FileAPI and XMLHttpRequest to upload files." %}</span>
      </li>
      <li>
        <a href="https://developer.mozilla.org/En/DragDrop/Drag_Operations">MDC: Drag Operations</a>
        <span>{% trans "Reference on the various dragging options that are available in the DnD API" %}</span>
      </li>
      <li>
        <a href="http://html5doctor.com/native-drag-and-drop/">HTML5 Doctor: Native Drag and Drop</a>
        <span>{% trans "Article on using Native Drag and Drop in HTML5. Discusses File drag/drop from desktop." %}</span>
      </li>
    </ul>
  </section>
{% endblock %}