window.SLD=window.SLD||{};window.SLD={talks:[],authors:{},template:undefined,talksdfr:$.Deferred(),receiveSpreadsheet:function(a){if(a.feed){a.feed.entry.forEach(SLD.normalizeData)}SLD.talks=SLD.talks.sort(function(d,c){function e(f){var b=f.split("/");return new Date(b[2],b[0]-1,b[1])}return e(d.dateexact)>e(c.dateexact)?-1:1});SLD.talksdfr.resolve()},normalizeData:function(c,b){var d={};d.title=c.title.$t;var a=c.content.$t.split(/(^|,\s)omg/).filter(function(e){return !!e.replace(/,?\s+/g,"")}).forEach(function(e){var f=e.split(":");d[f.shift()]=f.join(":").trim()});SLD.talks.push(d)},render:function(d){var c=SLD.template({talksArr:d}),b=document.querySelector("#output"),a;b.innerHTML=c;SLD.lazyEmbed();FLTR.setup()},lazyEmbed:function(){$("#output").on("click","div[data-embed]",function(){$(this).replaceWith($(this).data("embed"))})},offline:function(){SLD.receiveSpreadsheet(SLD.talks=SLD.backuptalks)},init:function(){$.ajax({url:"https://spreadsheets.google.com/feeds/list/0ArK1Uipy0SbDdHpQMzFWVFlMX1Zyd0tOWUxNeUE5QUE/od6/public/basic?alt=json-in-script",dataType:"jsonp",fail:SLD.offline,success:SLD.receiveSpreadsheet});var a=$.ajax({url:"/static/js/talkstmpl.html",dataType:"text",localCache:true,success:function(c){SLD.template=Handlebars.compile(c)}});var b=$.getJSON("/api/authors",function(c){SLD.authors=c});$.when(SLD.talksdfr.promise(),b,a).done(function(){var c=SLD.talks.length&&SLD.talks||SLD.backuptalks;SLD.render(c)})},url2png:function(a,c){var d="P4EA9CF92E4F9C";var f="F2";var e=("4024A1"+f+"D6FD6S").split("").reverse().join("");a=a.trim();var b=md5(""+e+"+"+a);c=c||"s1280x1024-t459x359";return"//api.url2png.com/v3/"+[d,b,"459x359",a].join("/")}};window.FLTR={input:document.querySelector("input#filter_input"),dateinput:document.querySelector("input#datefilter"),dateoutput:document.querySelector("output"),elems:undefined,entries:undefined,value:undefined,setup:function(){inputPlaceholder(FLTR.input);FLTR.elems=document.querySelector("#output").querySelectorAll("h2,h3,h4,p,span.date");FLTR.entries=document.querySelector("#output").querySelectorAll("article");$(FLTR.input).on("keyup",FLTR.keyup);FLTR.dateinput.addEventListener("change",FLTR.datechange,false);FLTR.datechange();FLTR.keyup();FLTR.readFromHash();var a=document.createElement("input");a.setAttribute("type","range");if(a.type!="range"){FLTR.dateinput.parentNode.style.display="none"}},keyup:function(a){var b=FLTR.value=(a&&a.target.value.toLowerCase())||"";FLTR.toggle(false);FLTR.filterElems(function(c){var d=c.innerText||c.textContent;return ~d.toLowerCase().indexOf(b)});if(b==""){FLTR.toggle(true);FLTR.filterElems(function(c){return true})}},filterElems:function(c){var a=0,b={};[].forEach.call(FLTR.elems,function(f){if(c(f)){var d=f;while(d.nodeName!="ARTICLE"){d=d.parentNode}var e=d.getAttribute("data-event");if(b[e]){return}b[e]=true;d.classList.remove("hidden");d.classList.remove("even");if(++a%2){d.classList.add("even")}}})},toggle:function(a){[].forEach.call(FLTR.entries,function(b){if(a){b.classList.remove("hidden")}else{b.classList.add("hidden")}})},datechange:function(f){var g=(f&&f.target.value)||"0";var d=new Date(SLD.talks[SLD.talks.length-1].dateexact);var b=new Date();var c=new Date(+new Date(((b-d)*g/100))+ +d);var a=["January","February","March","April","May","June","July","August","September","October","November","December"];FLTR.dateoutput.textContent=[a[c.getMonth()],c.getDate()+",",c.getFullYear()].join(" ");FLTR.toggle(false);FLTR.filterElems(function(h){if(h.nodeName!="SPAN"){return}var e=new Date(h.getAttribute("data-time"));return e>c})},readFromHash:function(){var a=location.hash.replace(/^#/,"");if(a){$(FLTR.input).val(a).keyup()}}};SLD.backuptalks=[{title:"The Latest in HTML5",presenter:"Eric Bidelman",dateexact:"7/7/2011",date:"July 2011",event:"Google Developer Relations Brown Bag",location:"Mountain View, CA",slideslink:"http://html5-demos.appspot.com/static/html5-whats-new/template/index.html"},{title:"Building Web Apps with\nHTML5 and Chrome",presenter:"Boris Smus",dateexact:"5/15/2011",date:"May 2011",location:"Sao Paulo, Brazil",slideslink:"http://smustalks.appspot.com/brazil-11/"},{title:"HTML5 Showcase for Web Developers: The Wow and the How",presenter:"Eric Bidelman, Arne Roomann-Kurrik",dateexact:"5/11/2011",date:"May 2011",event:"Google IO 2011",location:"San Francisco, CA",image:"http://functionscopedev.files.wordpress.com/2011/05/html5wow1.png?w=620&h=367",slideslink:"http://www.htmlfivewow.com/slide1",youtube:"http://www.youtube.com/watch?v=WlwY6_W4VG8",notes:'All code and demos are open sourced at <a href="http://code.google.com/p/html5wow/">code.google.com/p/html5wow/</a>.'},{title:"HTML5 Development with the Chrome Dev Tools",presenter:"Boris Smus & Paul Irish",dateexact:"5/9/2011",date:"May 2011",event:"Google IO",location:"San Francisco",slideslink:"http://smustalks.appspot.com/devtools-lab-11/"},{title:"MunichJS (IndexedDB & Chrome Extensions)",presenter:"Mike West",dateexact:"4/6/2011",event:"MunichJS",location:"Munich, Germany",slideslink:"http://20110406-munichjs.appspot.com/",slideshare:"http://www.slideshare.net/mikewest/munichjs-20110406"},{title:"HTML5 & DOM & CSS3 Performance",presenter:"Paul Irish",dateexact:"4/1/2011",date:"April 2011",slideslink:"http://dl.dropbox.com/u/39519/talks/gperf/index.html",youtube:"http://www.youtube.com/watch?v=q_O9_C2ZjoA"},{title:"State of the Browser",presenter:"Michael Mahemoff",dateexact:"3/19/2011",date:"March 2011",event:"State Of the Browser",location:"Ravensbourne, UK",slideslink:"http://prez.mahemoff.com/state-chrome/#0"},{title:"HTML5 Storage: Application Cache",presenter:"Nikolas Coukoum",dateexact:"1/1/2011",date:"January 2011",event:"Google Tech Talk",youtube:"http://www.youtube.com/watch?v=CoUSIBep1G8",presently:"https://docs.google.com/present/view?id=ajdqczcmx5pv_147df36gf5x"},{title:"Introduction to IndexedDB",presenter:"Mike West",dateexact:"12/13/2010",date:"December 2010",event:"Google Tech Talk",slideshare:"http://www.slideshare.net/mikewest/intro-to-indexeddb-beta",notes:'Full transcript and code examples available at <a href="http://mikewest.org/2010/12/intro-to-indexeddb">mikewest.org/2010/12/intro-to-indexeddb</a>'},{title:"HTML5 Storage",presenter:"Eric Bidelman",dateexact:"12/1/2010",date:"December 2010",event:"SenchaCon",location:"San Francisco",image:"/static/images/pres/html5storagesencha.png",slideslink:"http://html5-demos.appspot.com/static/html5storage/index.html",vimeo:"http://vimeo.com/17844271",notes:"Covers: local/sessionStorage, WebSQL, IndexedDB, app cache, File API, FileReader, BlobBuilder, FileSystem, FileWriter."},{title:"Utilizing HTML5 in Google Chrome Extensions",presenter:"Eric Bidelman",dateexact:"12/1/2010",date:"December 2010",event:"Add-On-Con",location:"Mountain View, CA",image:"/static/images/pres/html5chromeext.png",slideslink:"http://html5-demos.appspot.com/static/addoncon2010/index.html"},{title:"Building for a Faster Web",presenter:"Eric Bidelman",dateexact:"11/2/2010",date:"November 2010",event:"Google DevFest",location:"Buenos Aires, Argentina",slideshare:"http://www.slideshare.net/ebidel/html5-building-for-a-faster-web-5635959",youtube:"http://www.youtube.com/watch?v=PsmPF9pO56I"},{title:"What's a web app? Building Apps for the Chrome Web Store",presenter:"Eric Bidelman",dateexact:"11/2/2010",date:"November 2010",event:"Google DevFest",location:"Buenos Aires, Argentina",slideshare:"http://www.slideshare.net/ebidel/so-whats-a-web-app-introduction-to-the-chrome-web-store",youtube:"http://www.youtube.com/watch?v=TcaWEk2O3CM"},{title:"Web Apps and the Chrome Web Store",presenter:"Paul Kinlan",dateexact:"11/1/2010",date:"November 2010",event:"GDD",location:"Munich",image:"/static/images/pres/waandcws.png",slideslink:"http://gdd-2010.appspot.com/WebStore/index.html"},{title:"The State of HTML5",presenter:"Paul Irish",dateexact:"10/1/2010",date:"October 2010",slideslink:"http://stateofhtml5.appspot.com/",blip:'<embed src="http://blip.tv/play/hq0KgoeYRwI" type="application/x-shockwave-flash" width="480" height="300" wmode="transparent" allowscriptaccess="always" allowfullscreen="true" ></embed>'},{title:"HTML5: Building the Next Generation of Web Applications",presenter:"Eric Bidelman",dateexact:"8/14/2010",date:"August 2010",event:"COSUP/GNOME.Asia",location:"Taipei, Taiwan",slideshare:"http://www.slideshare.net/ChromiumDev/html5-building-the-next-generation-of-web-applications?from=ss_embed",youtube:"http://www.youtube.com/watch?v=dVyq79wWCU4&feature=player_embedded"}];SLD.backupauthors={paulirish:{given_name:"Paul",family_name:"Irish"},idogreen:{given_name:"Ido",family_name:"Green"},ilmari:{given_name:"Ilmari",family_name:"Heikkinen"},wesleyhales:{given_name:"Wesley",family_name:"Hales"},taligarsiel:{given_name:"Tali",family_name:"Garsiel"},adammark:{given_name:"Adam",family_name:"Mark"},paulkinlan:{given_name:"Paul",family_name:"Kinlan"},eligrey:{given_name:"Eli",family_name:"Grey"},derekdetweiler:{given_name:"Derek",family_name:"Detweiler"},davidtong:{given_name:"David",family_name:"Tong"},ericbidelman:{given_name:"Eric",family_name:"Bidelman"},luigimontanez:{given_name:"Luigi",family_name:"Montanez"},marcinwichary:{given_name:"Marcin",family_name:"Wichary"},michaeldewey:{given_name:"Mike",family_name:"Dewey"},malteubl:{given_name:"Malte",family_name:"Ubl"},geoffblair:{given_name:"Geoff",family_name:"Blair"},monsurhossain:{given_name:"Monsur",family_name:"Hossain"},jameswilliams:{given_name:"James",family_name:"Williams"},jankleinert:{given_name:"Jan",family_name:"Kleinert"},smus:{given_name:"Boris",family_name:"Smus"},matthackett:{given_name:"Matt",family_name:"Hackett"},jeremychone:{given_name:"Jeremy",family_name:"Chone"},paullewis:{given_name:"Paul",family_name:"Lewis"},danielmoore:{given_name:"Daniel X.",family_name:"Moore"},agektmr:{given_name:"Eiji",family_name:"Kitamura"},adriangould:{given_name:"Adrian",family_name:"Gould"},mahemoff:{given_name:"Michael",family_name:"Mahemoff"},hakimelhattab:{given_name:"Hakim",family_name:"El Hattab"},ernestd:{given_name:"Ernest",family_name:"Delgado"},petele:{given_name:"Pete",family_name:"LePage"},mdeal:{given_name:"Michael",family_name:"Deal"},dutton:{given_name:"Sam",family_name:"Dutton"},sethladd:{given_name:"Seth",family_name:"Ladd"}};$(SLD.init);Handlebars.registerHelper("video",function(c){var b=parseUri(c),d=b.host,e,a;if(/youtube\.com$/.test(d)){e=b.queryKey.v;iframe="<iframe src='https://www.youtube.com/embed/"+e+"?autoplay=1"+(b.anchor?"&start="+b.anchor.match(/\d+/):"")+"' frameborder='0' allowfullscreen></iframe>";a='<div data-embed="'+iframe+'"><span></span><img src="http://i.ytimg.com/vi/'+e+'/hqdefault.jpg"></div>'}else{if(/vimeo\.com$/.test(d)){e=b.path.match(/\d+/)[0];a='<iframe src="http://player.vimeo.com/video/'+e+'?title=0&amp;byline=0&amp;portrait=0&amp;color=0" frameborder="0"></iframe>'}else{if(~c.indexOf("blip.tv")){a='<iframe src="'+c.match(/src="(.*?)"/)[1]+'" frameborder="0" scrolling="no"></iframe>'}}}return new Handlebars.SafeString('<div class="video">'+a+"</div>")});Handlebars.registerHelper("slides",function(b){var c=parseUri(b),d=c.host,e,a;if(~b.indexOf("docs.google.com/present")){e=c.queryKey.id;a='<iframe src="https://docs.google.com/present/view?id='+e+'&revision=_latest&start=0&theme=blank&cwj=true" frameborder="0"></iframe> '}else{if(/slideshare\.net$/.test(d)){a='<iframe src="http://icant.co.uk/slidesharehtml/embed.php?url='+c.source+'&width=450"></iframe>'}}return new Handlebars.SafeString('<div class="slides">'+a+"</div>")});Handlebars.registerHelper("img",function(){var a=this.image;if(a&&~a.indexOf("/")){return a}if(a){return"/static/images/pres/"+a}return SLD.url2png(this.slideslink)});Handlebars.registerHelper("presntr",function(d){if(Object.keys(SLD.authors).length==0){SLD.authors=SLD.backupauthors}var b={};for(author in SLD.authors){var c=SLD.authors[author];b[c.given_name+" "+c.family_name]=author}var a="";d=d.split(/ and|&|, /);a=d.map(function(e){var f=b[e.trim()];if(f){return'<a href="/profiles/#'+f+'">'+e+"</a>"}else{return e}}).join(" & ");return new Handlebars.SafeString(a)});
