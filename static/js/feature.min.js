window.caniusecallback=function(b){var a=$(".page.current");var c=a.find(".support div");window.caniusedata=b;if(a.hasClass("caniuseloaded")){return}$.each(caniuse.caniusefeatures,function(h,g){var f=b.data[g];var d=c.clone();if(!f){return false}var e="http://caniuse.com/#search="+g;d.find("h4").html((f.title).link(e));$.each(f.stats,function(i,j){var k="—";$.each(j,function(m,l){if(l.indexOf("y")==0){if(k!="—"){k+="+";return false}k=m}});d.find("td."+i).text(k)});d.find("table").css("visibility","visible").end().insertAfter(".page.current .support h3");c.remove();a.addClass("caniuseloaded");$("section.support td").hover(function(){$("#support th."+this.className).eq(0).addClass("current")},function(){$("#support th."+this.className).eq(0).removeClass("current")})})};window.loadCanIUseData=function(){if(caniuse.caniusefeatures[0]&&caniuse.caniusefeatures[0].length){$(".page.current .support").show();if(window.caniusedata){return caniusecallback(caniusedata)}var b=document.createElement("script");b.src="http://caniuse.com/jsonp.php?callback=caniusecallback";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}};window.loadTutorials=function(){var b=document.documentElement.getAttribute("lang")||"en";var a=$(".page.current .updates ul");if(a.hasClass("tutsloaded")){return}var c=$("<div>").load("/"+b+"/tutorials/ #index",function(){var d=5;var e=$([]);$.each(caniuse.features.split(","),function(g,f){var h=c.find(".tutorial_listing span.class.offline:contains("+f+")").closest(".tutorial_listing");e=e.add(h)});e.splice(d);a.addClass("tutsloaded");$(e).find("h3 a").clone().wrap("<li>").parent().prependTo(a)})};window.loadFeaturePanels=function(){var a=$(".page.current").find("section.support")[0];if(!a){return}window.caniuse={caniusefeatures:a.dataset.caniusefeatures.split(","),features:a.dataset.features};loadCanIUseData()};